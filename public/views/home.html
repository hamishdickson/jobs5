<div class="jumbotron">
    <div class="container">
        <!--        <ul class="alphabet">
                    <li ng-repeat="char in alphabet">
                        <span ng-click="filterByAlphabet(char)">{{char}}</span>
                    </li>
                </ul>
                <ul class="genres">
                    <li ng-repeat="genre in genres">
                        <span ng-click="filterByGenre(genre)">{{genre}}</span>
                    </li>
                </ul>-->
        <ul class="genres">
            <li ng-repeat="job in jobs">
                <span ng-click="filterByJob(job)">Status {{job}}</span>
            </li>
        </ul>
    </div>
</div>

<!--<div class="container">
    <div class="panel panel-default">
        <div class="panel-heading">
            {{headingTitle}}
            <div class="pull-right">
                <input class="search" type="text" ng-model="query.name" placeholder="Search...">
            </div>
        </div>
        <div class="panel-body">
            <div class="row show-list">
                <div class="col-xs-4 col-md-3" ng-repeat="show in shows | filter:query | orderBy:'rating':true">
                    <a href="/shows/{{show._id}}">
                        <img class="img-rounded" ng-src="{{show.poster}}" width="100%"/>
                    </a>
                    <div class="text-center">
                        <a href="/shows/{{show._id}}">{{show.name}}</a>
                        <p class="text-muted">Episodes: {{show.episodes.length}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>-->


<div class="container" ng-controller="JobsController as jobsCtrl">
    <header>
        <h1 class="text-center">Jobs {{headingTitle}}</h1>
    </header>
    <div class="list-group">
        <div class="list-group-item panel panel-body col-sm-6" ng-repeat="job in jobsCtrl.jobsData">

            <h3>{{job.jobNumber}}</h3>

            <section ng-controller="TabsController as tabCtrl">
                <ul class="nav nav-pills">
                    <li ng-class="{ active:tabCtrl.isSet(1) }">
                        <a href="" ng-click="tabCtrl.setTab(1)">Description</a>
                    </li>
                    <li ng-class="{ active:tabCtrl.isSet(2) }">
                        <a href="" ng-click="tabCtrl.setTab(2)">Status</a>
                    </li>
                    <li ng-class="{ active:tabCtrl.isSet(3) }">
                        <a href="" ng-click="tabCtrl.setTab(3)">Notes</a>
                    </li>
                </ul>

                <!--  Description Tab's Content  -->
                <div ng-show="tabCtrl.isSet(1)">
                    <h4>Description</h4>
                    <blockquote>{{job.description}}</blockquote>
                </div>

                <!--  Status Tab's Content  -->
                <div ng-show="tabCtrl.isSet(2)">
                    <h4>Status</h4>
                    <blockquote>Status: {{job.status}}</blockquote>
                </div>

                <!--  Notes Tab's Content  -->
                <div ng-show="tabCtrl.isSet(3)">

                    <!--  Job Notes List -->
                    <ul>
                        <h4>Notes</h4>
                        <li ng-repeat="note in job.notes">
                            {{note.body}}
                            <strong>{{note.response}}</strong>
                            <blockquote>
                                <cite class="clearfix">—{{note.author}} on {{note.createdOn | date}}</cite>
                            </blockquote>
                        </li>
                    </ul>

                    <!--  Notes Form -->
                    <form name="reviewForm" ng-controller="NotesController as notesCtrl"
                          ng-submit="notesCtrl.addNote(job)">
                        <!--  Live Preview -->
                        <blockquote>
                            <p>{{notesCtrl.note.body}}</p>
                            <p><strong>Current response: {{notesCtrl.note.response}}</strong></p>
                            <p><cite class="clearfix">—{{notesCtrl.note.author}}</cite></p>
                        </blockquote>

                        <!--  Notes Form -->
                        <h4>Add to jobs notes</h4>
                        <fieldset class="form-group">
                            <select ng-model="notesCtrl.note.status" class="form-control"
                                    ng-options="status for status in [5,4,3,2,1]" title="Status">
                                <option value="">Job status</option>
                            </select>
                        </fieldset>
                        <fieldset class="form-group">
                            <textarea ng-model="notesCtrl.note.body" class="form-control"
                                      placeholder="Add me some notes ..."
                                      title="Notes"></textarea>
                        </fieldset>
                        <fieldset class="form-group">
                            <textarea ng-model="notesCtrl.note.response" class="form-control"
                                      placeholder="Response to client ..."
                                      title="Response"></textarea>
                        </fieldset>
                        <fieldset class="form-group">
                            <input ng-model="notesCtrl.note.author" type="email" class="form-control"
                                   placeholder="get@me.coffee" title="Email"/>
                        </fieldset>
                        <fieldset class="form-group">
                            <input type="submit" class="btn btn-primary pull-right" value="Submit Note"/>
                        </fieldset>
                    </form>

                </div>
            </section>
        </div>
    </div>
</div>
